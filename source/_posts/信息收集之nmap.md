---
title: 信息收集之nmap
date: 2018-11-19 01:00:00
tags:
- 端口扫描
- 信息收集
---


## 探测主机存活常用方式

* 扫描网段主机：进行ping扫描
`nmap -sP 192.168.181.50/100`
* 扫描单个主机
`nmap 192.168.181.50`
* 发送tcp的ack包探测主机是否存活
`nmap 192.168.181.50 -sA`
* 半开放扫描，不会被目标主机记入系统日志，但须root权限
`nmap -sS 192.168.181.50`
* 三次握手tcp扫描, 易被目标主机检测到，但不需root权限
`nmap -sT 192.168.181.50`
* 另一目标主机对主机发送数据，获取主机ip
`nmap -sL 192.168.181.50`
* 扫描UDP端口
`nmap -sU 192.168.181.50`
* 版本检测
`nmap -sV 192.168.181.50`
* 操作系统检测
`namp -O 192.168.181.50`
* -PN绕过ping命令
`nmap -O -PN 192.168.181.50`
* 检测是否存在常见漏洞
`nmap --script=vuln 192.168.181.50`
* 在局域网扫描主机特定端口-n加快扫描速度
`nmap -n -p445 --script=broadast 192.168.181.50`

## nmap脚本使用

nmap脚本扫描时可设置”–script=类别”的方式进行扫描.

* auth:可作为检测部分应用弱口令，也可负责处理鉴权证书（绕开鉴权）的脚本。
`nmap --script=auth 192.168.181.129`
* broadcast:局域网内探测服务开启情况，如dhcp/dns/sqlserver等服务.
`nmap -n -p445 --script=broadcast 192.168.181.129`
* brute:提供暴力破解，如http/snmap等应用。提供的暴力破解方式可对数据库，smb,snmp等进行简单密码 的暴力猜解
`nmap --script=brute 192.168.181.129`
* default:提供基本脚本扫描能力。默认的脚本扫描，主要搜集各种应用服务的信息，收集到后，可再针对具体服务进行攻击
`nmap -sC  192.168.181.50`
* 检查目标主机是否有常见漏洞
`nmap --script=vuln 192.168.181.50`
* external:利用第三方数据库或资源，如：whois解析
`nmap --script external 192.168.181.129`
